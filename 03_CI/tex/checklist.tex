\chapter{Code inspection checklist}\label{chap:checklist}



\section*{Naming conventions}\begin{enumerate}

\item \label[rule]{item:1}All class names, interface names, method names, class variables, method variables, and constants used should have meaningful names and do what the name suggests.

\item \label[rule]{item:2}If one-character variables are used, they are used only for temporary ``throwaway'' variables, such as those used in \mintinline{java}|for| loops.

\item \label[rule]{item:3}Class names are nouns, in mixed case, with the first letter of each word in capitalised.\\Examples: \mintinline{java}{class Raster}; \mintinline{java}{class ImageSprite}.

\item \label[rule]{item:4}Interface names should be capitalised like classes.

\item \label[rule]{item:5}Method names should be verbs, with the first letter of each addition word capitalised.\\Examples: \mintinline{java}{getBackground()}; \mintinline{java}{computeTemperature()}. 

\item \label[rule]{item:6}Class variables, also called attributes, are mixed case, but might begin with an underscore (`\mintinline{java}{_}') followed by a lowercase first letter. All the remaining words in the variable name have their first letter capitalised.\\Examples: \mintinline{java}{_windowHeight}, \mintinline{java}{timeSeriesData}.

\item \label[rule]{item:7}Constants are declared using all uppercase with words separated by an underscore.\\Examples: \mintinline{java}{MIN_WIDTH}; \mintinline{java}{MAX_HEIGHT}.
\end{enumerate}



\section*{Indention}\begin{enumerate}[resume]

\item \label[rule]{item:8}Three or four spaces are used for indentation and done so consistently.

\item \label[rule]{item:9}No tabs are used to indent.

\end{enumerate}



\section*{Braces}\begin{enumerate}[resume]

\item \label[rule]{item:10}Consistent bracing style is used, either the preferred ``Allman'' style (first brace goes underneath the opening block) or the ``Kernighan and Ritchie'' style (first brace is on the same line of the instruction that opens the new block).

\item \label[rule]{item:11}All \mintinline{java}{if}, \mintinline{java}{while}, \mintinline{java}{do-while}, \mintinline{java}{try-catch}, and \mintinline{java}{for} statements that have only one statement to execute are surrounded by curly braces.\\Example:

\noindent
\begin{minipage}{.5\textwidth}\noindent
Avoid this:\begin{minted}[showtabs=false, linenos=false,frame=leftline, escapeinside=||, autogobble=true]{java}
	|\nobreakspace|
	if ( condition )
		doThis();
	|\nobreakspace|
\end{minted}
\end{minipage}% 
\begin{minipage}{.5\textwidth}\noindent
Instead do this:\begin{minted}[showtabs=false, linenos=false,frame=leftline, autogobble=true]{java}
	if ( condition ) 
	{
		doThis(); 
	}
\end{minted}
\end{minipage}


\end{enumerate}



\section*{File organisation}\begin{enumerate}[resume]

\item \label[rule]{item:12}Blank lines and optional comments are used to separate sections (beginning comments, package/import statements, class/interface declarations which include class variable/attributes declarations, constructors, and methods).

\item \label[rule]{item:13}Where practical, line length does not exceed 80 characters.

\item \label[rule]{item:14}When line length must exceed 80 characters, it does NOT exceed 120 characters.

\end{enumerate}



\section*{Wrapping lines}\begin{enumerate}[resume]

\item \label[rule]{item:15}Line break occurs after a comma or an operator.

\item \label[rule]{item:16}Higher-level breaks are used.

\item \label[rule]{item:17}A new statement is aligned with the beginning of the expression at the same level as the previous line.

\end{enumerate}



\section*{Comments}\begin{enumerate}[resume]

\item \label[rule]{item:18}Comments are used to adequately explain what the class, interface, methods, and blocks of code are doing.

\item \label[rule]{item:19}Commented out code contains a reason for being commented out and a date it can be removed from the source file if determined it is no longer needed.

\end{enumerate}



\section*{Java source files}\begin{enumerate}[resume]

\item \label[rule]{item:20}Each Java source file contains a single public class or interface.

\item \label[rule]{item:21}The public class is the first class or interface in the file.

\item \label[rule]{item:22}Check that the external program interfaces are implemented consistently with what is described in the Javadoc.

\item \label[rule]{item:23}Check that the Javadoc is complete (i.e., it covers all classes and files part of the set of classes assigned to you).

\end{enumerate}



\section*{Package and import statements}\begin{enumerate}[resume]

\item \label[rule]{item:24}If any package statements are needed, they should be the first non-comment statements. Import statements follow.

\end{enumerate}



\section*{Class and Interface Declarations}\begin{enumerate}[resume]

\item \label[rule]{item:25}The class or interface declarations shall be in the following order:
	\begin{enumerate}
		\item \label[rule]{item:25a}class/interface documentation comment;
		\item \label[rule]{item:25b}class or interface statement;
		\item \label[rule]{item:25c}class/interface implementation comment, if necessary;
		\item \label[rule]{item:25d}class (static) variables;
		\begin{enumerate}
			\item \label[rule]{item:25di}first public class variables;
			\item \label[rule]{item:25dii}next protected class variables;
			\item \label[rule]{item:25diii}next package level (no access modifier);
			\item \label[rule]{item:25div}last private class variables.
		\end{enumerate}
		\item \label[rule]{item:25e}instance variables;
		\begin{enumerate}
			\item \label[rule]{item:25ei}first public instance variables;
			\item \label[rule]{item:25eii}next protected instance variables;
			\item \label[rule]{item:25eiii}next package level (no access modifier);
			\item \label[rule]{item:25eiv}last private instance variables.
		\end{enumerate}
		\item \label[rule]{item:25f}constructors;
		\item \label[rule]{item:25g}methods.
	\end{enumerate}

	\item \label[rule]{item:26}Methods are grouped by functionality rather than by scope or accessibility.

	\item \label[rule]{item:27}Check that the code is free of duplicates, long methods, big classes, breaking encapsulation, as well as if coupling and cohesion are adequate.

\end{enumerate}



\section*{Initialisation and declarations}\begin{enumerate}[resume]

\item \label[rule]{item:28}Check that variables and class members are of the correct type. Check that they have the right visibility (public/private/protected).

\item \label[rule]{item:29}Check that variables are declared in the proper scope.

\item \label[rule]{item:30}Check that constructors are called when a new object is desired.

\item \label[rule]{item:31}Check that all object references are initialised before use.

\item \label[rule]{item:32}Variables are initialised where they are declared, unless dependent upon a computation.

\item \label[rule]{item:33}Declarations appear at the beginning of blocks (a block is any code surrounded by curly braces `\mintinline{java}|{|' and `\mintinline{java}|}|'). The exception is a variable can be declared in a \mintinline{java}{for} loop.

\end{enumerate}



\section*{Method calls}\begin{enumerate}[resume]


\item \label[rule]{item:34}Check that parameters are presented in the correct order.

\item \label[rule]{item:35}Check that the correct method is being called, or should it be a different method with a similar name.

\item \label[rule]{item:36}Check that method returned values are used properly.

\end{enumerate}



\section*{Arrays}\begin{enumerate}[resume]

\item \label[rule]{item:37}Check that there are no off-by-one errors in array indexing (that is, all required array elements are correctly accessed through the index).

\item \label[rule]{item:38}Check that all array (or other collection) indexes have been prevented from going out-of-bounds.

\item \label[rule]{item:39}Check that constructors are called when a new array item is desired.

\end{enumerate}



\section*{Object comparison}\begin{enumerate}[resume]

\item \label[rule]{item:40}Check that all objects (including \mintinline{java}{Strings}) are compared with \mintinline{java}{equals} and not with \mintinline{java}{==}.

\end{enumerate}



\section*{Output format}\begin{enumerate}[resume]

\item \label[rule]{item:41}Check that displayed output is free of spelling and grammatical errors.

\item \label[rule]{item:42}Check that error messages are comprehensive and provide guidance as to how to correct the problem.

\item \label[rule]{item:43}Check that the output is formatted correctly in terms of line stepping and spacing.

\end{enumerate}

\section*{Computation, comparisons and assignments}\begin{enumerate}[resume]

\item \label[rule]{item:44}Check that the implementation avoids ``brutish programming'': (see \url{http://users.csc.calpoly.edu/~jdalbey/SWE/CodeSmells/bonehead.html}). 

\item \label[rule]{item:45}Check order of computation/evaluation, operator precedence and parenthesising.

\item \label[rule]{item:46}Check the liberal use of parenthesis is used to avoid operator precedence problems.

\item \label[rule]{item:47}Check that all denominators of a division are prevented from being zero.

\item \label[rule]{item:48}Check that integer arithmetic, especially division, are used appropriately to avoid causing unexpected truncation/rounding.

\item \label[rule]{item:49}Check that the comparison and \mintinline{java}{Boolean} operators are correct.

\item \label[rule]{item:50}Check \mintinline{java}{throw-catch} expressions, and check that the error condition is actually legitimate.

\item \label[rule]{item:51}Check that the code is free of any implicit type conversions.

\end{enumerate}



\section*{Exceptions}\begin{enumerate}[resume]

\item \label[rule]{item:52}Check that the relevant exceptions are caught.

\item \label[rule]{item:53}Check that the appropriate action are taken for each catch block.

\end{enumerate}



\section*{Flow of control}\begin{enumerate}[resume]

\item \label[rule]{item:54}In a \mintinline{java}{switch} statement, check that all cases are addressed by break or return.

\item \label[rule]{item:55}Check that all switch statements have a default branch.

\item \label[rule]{item:56}Check that all loops are correctly formed, with the appropriate initialisation, increment and termination expressions.

\end{enumerate}



\section*{Files}\begin{enumerate}[resume]

\item \label[rule]{item:57}Check that all files are properly declared and opened.

\item \label[rule]{item:58}Check that all files are closed properly, even in the case of an error.

\item \label[rule]{item:59}Check that EOF conditions are detected and handled correctly.

\item \label[rule]{item:60}Check that all file exceptions are caught and dealt with accordingly.

\end{enumerate}
 
 










